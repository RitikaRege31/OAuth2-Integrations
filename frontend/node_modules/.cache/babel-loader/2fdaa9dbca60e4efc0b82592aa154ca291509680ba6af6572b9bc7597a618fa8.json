{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://localhost:8000/api/hubspot\";\nconst HUBSPOT_CLIENT_ID = process.env.HUBSPOT_CLIENT_ID;\nconst HUBSPOT_REDIRECT_URI = process.env.HUBSPOT_REDIRECT_URI;\n\n// export const authorizeHubSpot = async (userId, orgId) => {\n//   try {\n//     const response = await axios.get(`${BASE_URL}/authorize`, {\n//       params: { user_id: userId, org_id: orgId },\n//     });\n//     window.location.href = response.data.url;\n//   } catch (error) {\n//     console.error(\"Error during HubSpot authorization:\", error);\n//   }\n// };\n// export const authorizeHubSpot = async (userId, orgId) => {\n//     try {\n//       const url = `https://app.hubspot.com/oauth/authorize?client_id=${HUBSPOT_CLIENT_ID}&redirect_uri=${HUBSPOT_REDIRECT_URI}&scope=contacts`;\n\n//       // Send a response to frontend with the HubSpot authorization URL\n//       return url;  // This will send the URL to the frontend\n//     } catch (error) {\n//       console.error(\"Error during HubSpot authorization:\", error);\n//       throw new Error(\"Authorization failed\");\n//     }\n//   };\nexport const authorizeHubSpot = async (userId, orgId) => {\n  try {\n    const response = await axios.post(`${BASE_URL}/integrations/hubspot/authorize`, {\n      userId,\n      orgId\n    });\n\n    // Perform the actual redirection to HubSpot\n    window.location.href = response.data.url; // Redirect the user to the HubSpot authorization URL\n  } catch (error) {\n    console.error(\"Error during HubSpot authorization:\", error);\n    throw new Error(\"Authorization failed\");\n  }\n};\nexport const getHubSpotItems = async (userId, orgId) => {\n  try {\n    const response = await axios.get(`${BASE_URL}/items`, {\n      params: {\n        user_id: userId,\n        org_id: orgId\n      }\n    });\n    return response.data.items;\n  } catch (error) {\n    console.error(\"Error fetching HubSpot items:\", error);\n    return [];\n  }\n};","map":{"version":3,"names":["axios","BASE_URL","HUBSPOT_CLIENT_ID","process","env","HUBSPOT_REDIRECT_URI","authorizeHubSpot","userId","orgId","response","post","window","location","href","data","url","error","console","Error","getHubSpotItems","get","params","user_id","org_id","items"],"sources":["C:/Users/DELL/Documents/GitHub/VectorShift-assignment/frontend/src/integrations/hubspot.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = \"http://localhost:8000/api/hubspot\";\r\nconst HUBSPOT_CLIENT_ID = process.env.HUBSPOT_CLIENT_ID;\r\nconst HUBSPOT_REDIRECT_URI = process.env.HUBSPOT_REDIRECT_URI;\r\n\r\n// export const authorizeHubSpot = async (userId, orgId) => {\r\n//   try {\r\n//     const response = await axios.get(`${BASE_URL}/authorize`, {\r\n//       params: { user_id: userId, org_id: orgId },\r\n//     });\r\n//     window.location.href = response.data.url;\r\n//   } catch (error) {\r\n//     console.error(\"Error during HubSpot authorization:\", error);\r\n//   }\r\n// };\r\n// export const authorizeHubSpot = async (userId, orgId) => {\r\n//     try {\r\n//       const url = `https://app.hubspot.com/oauth/authorize?client_id=${HUBSPOT_CLIENT_ID}&redirect_uri=${HUBSPOT_REDIRECT_URI}&scope=contacts`;\r\n      \r\n//       // Send a response to frontend with the HubSpot authorization URL\r\n//       return url;  // This will send the URL to the frontend\r\n//     } catch (error) {\r\n//       console.error(\"Error during HubSpot authorization:\", error);\r\n//       throw new Error(\"Authorization failed\");\r\n//     }\r\n//   };\r\nexport const authorizeHubSpot = async (userId, orgId) => {\r\n    try {\r\n      const response = await axios.post(`${BASE_URL}/integrations/hubspot/authorize`, { userId, orgId });\r\n  \r\n      // Perform the actual redirection to HubSpot\r\n      window.location.href = response.data.url;  // Redirect the user to the HubSpot authorization URL\r\n    } catch (error) {\r\n      console.error(\"Error during HubSpot authorization:\", error);\r\n      throw new Error(\"Authorization failed\");\r\n    }\r\n  };\r\n  \r\n\r\nexport const getHubSpotItems = async (userId, orgId) => {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/items`, {\r\n      params: { user_id: userId, org_id: orgId },\r\n    });\r\n    return response.data.items;\r\n  } catch (error) {\r\n    console.error(\"Error fetching HubSpot items:\", error);\r\n    return [];\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,mCAAmC;AACpD,MAAMC,iBAAiB,GAAGC,OAAO,CAACC,GAAG,CAACF,iBAAiB;AACvD,MAAMG,oBAAoB,GAAGF,OAAO,CAACC,GAAG,CAACC,oBAAoB;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,gBAAgB,GAAG,MAAAA,CAAOC,MAAM,EAAEC,KAAK,KAAK;EACrD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAE,GAAET,QAAS,iCAAgC,EAAE;MAAEM,MAAM;MAAEC;IAAM,CAAC,CAAC;;IAElG;IACAG,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGJ,QAAQ,CAACK,IAAI,CAACC,GAAG,CAAC,CAAE;EAC7C,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;IAC3D,MAAM,IAAIE,KAAK,CAAC,sBAAsB,CAAC;EACzC;AACF,CAAC;AAGH,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAOZ,MAAM,EAAEC,KAAK,KAAK;EACtD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACoB,GAAG,CAAE,GAAEnB,QAAS,QAAO,EAAE;MACpDoB,MAAM,EAAE;QAAEC,OAAO,EAAEf,MAAM;QAAEgB,MAAM,EAAEf;MAAM;IAC3C,CAAC,CAAC;IACF,OAAOC,QAAQ,CAACK,IAAI,CAACU,KAAK;EAC5B,CAAC,CAAC,OAAOR,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,OAAO,EAAE;EACX;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}